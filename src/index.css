
@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* Design System - Couleurs */
    --background: 251 251 251;
    --foreground: 9 9 11;
    --card: 255 255 255;
    --card-foreground: 9 9 11;
    --popover: 255 255 255;
    --popover-foreground: 9 9 11;
    --primary: 39 39 42;
    --primary-foreground: 250 250 250;
    --secondary: 244 244 245;
    --secondary-foreground: 39 39 42;
    --muted: 244 244 245;
    --muted-foreground: 113 113 122;
    --accent: 244 244 245;
    --accent-foreground: 39 39 42;
    --destructive: 239 68 68;
    --destructive-foreground: 250 250 250;
    --border: 228 228 231;
    --input: 228 228 231;
    --ring: 39 39 42;
    --chart-1: 12 76% 61%;
    --chart-2: 173 58% 39%;
    --chart-3: 197 37% 24%;
    --chart-4: 43 74% 66%;
    --chart-5: 27 87% 67%;
    
    /* Design System - Espacements */
    --radius-xs: 2px;
    --radius-sm: 4px;
    --radius-md: 6px;
    --radius-lg: 8px;
    --radius-xl: 12px;
    --radius-2xl: 16px;
    --radius-full: 9999px;
    
    /* Design System - Ombres */
    --shadow-xs: 0 1px 2px 0 rgb(0 0 0 / 0.05);
    --shadow-sm: 0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);
    --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
    --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
    --shadow-xl: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);
    --shadow-2xl: 0 25px 50px -12px rgb(0 0 0 / 0.25);
    
    /* Design System - Typographie */
    --font-size-xs: 11px;
    --font-size-sm: 12px;
    --font-size-base: 13px;
    --font-size-md: 14px;
    --font-size-lg: 16px;
    --font-size-xl: 18px;
    --font-size-2xl: 20px;
    --font-size-3xl: 24px;
    
    --line-height-tight: 1.25;
    --line-height-normal: 1.4;
    --line-height-relaxed: 1.5;
    
    /* Design System - Espacements */
    --spacing-xs: 4px;
    --spacing-sm: 6px;
    --spacing-md: 8px;
    --spacing-lg: 12px;
    --spacing-xl: 16px;
    --spacing-2xl: 20px;
    --spacing-3xl: 24px;
    --spacing-4xl: 32px;
    --spacing-5xl: 40px;
    --spacing-6xl: 48px;
  }

  .dark {
    --background: 9 9 11;
    --foreground: 250 250 250;
    --card: 24 24 27;
    --card-foreground: 250 250 250;
    --popover: 24 24 27;
    --popover-foreground: 250 250 250;
    --primary: 250 250 250;
    --primary-foreground: 9 9 11;
    --secondary: 39 39 42;
    --secondary-foreground: 250 250 250;
    --muted: 39 39 42;
    --muted-foreground: 161 161 170;
    --accent: 39 39 42;
    --accent-foreground: 250 250 250;
    --destructive: 220 38 38;
    --destructive-foreground: 250 250 250;
    --border: 39 39 42;
    --input: 39 39 42;
    --ring: 212 212 216;
  }
}

@layer base {
  * {
    @apply border-border;
  }
  
  body {
    @apply bg-background text-foreground antialiased;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
    font-size: var(--font-size-base);
    line-height: var(--line-height-normal);
    letter-spacing: -0.011em;
  }
  
  h1, h2, h3, h4, h5, h6 {
    @apply font-medium text-foreground;
    letter-spacing: -0.025em;
  }
  
  h1 {
    font-size: var(--font-size-3xl);
    line-height: var(--line-height-tight);
    font-weight: 600;
  }
  
  h2 {
    font-size: var(--font-size-2xl);
    line-height: var(--line-height-tight);
    font-weight: 600;
  }
  
  h3 {
    font-size: var(--font-size-xl);
    line-height: var(--line-height-tight);
    font-weight: 500;
  }
  
  h4, h5, h6 {
    font-size: var(--font-size-lg);
    line-height: var(--line-height-normal);
    font-weight: 500;
  }
}

/* Système de design unifié - Classes utilitaires */
@layer utilities {
  /* Typographie */
  .text-display-lg { font-size: var(--font-size-3xl); line-height: var(--line-height-tight); font-weight: 600; letter-spacing: -0.025em; }
  .text-display-md { font-size: var(--font-size-2xl); line-height: var(--line-height-tight); font-weight: 600; letter-spacing: -0.025em; }
  .text-display-sm { font-size: var(--font-size-xl); line-height: var(--line-height-tight); font-weight: 500; letter-spacing: -0.02em; }
  .text-body-lg { font-size: var(--font-size-lg); line-height: var(--line-height-normal); font-weight: 400; }
  .text-body-md { font-size: var(--font-size-md); line-height: var(--line-height-normal); font-weight: 400; }
  .text-body-sm { font-size: var(--font-size-base); line-height: var(--line-height-normal); font-weight: 400; }
  .text-label-lg { font-size: var(--font-size-md); line-height: var(--line-height-normal); font-weight: 500; }
  .text-label-md { font-size: var(--font-size-base); line-height: var(--line-height-normal); font-weight: 500; }
  .text-label-sm { font-size: var(--font-size-sm); line-height: var(--line-height-normal); font-weight: 500; }
  .text-caption { font-size: var(--font-size-xs); line-height: var(--line-height-normal); font-weight: 400; color: hsl(var(--muted-foreground)); }

  /* Ombres standardisées */
  .shadow-xs { box-shadow: var(--shadow-xs); }
  .shadow-sm { box-shadow: var(--shadow-sm); }
  .shadow-md { box-shadow: var(--shadow-md); }
  .shadow-lg { box-shadow: var(--shadow-lg); }
  .shadow-xl { box-shadow: var(--shadow-xl); }
  .shadow-2xl { box-shadow: var(--shadow-2xl); }

  /* Border radius unifié */
  .rounded-xs { border-radius: var(--radius-xs); }
  .rounded-sm { border-radius: var(--radius-sm); }
  .rounded-md { border-radius: var(--radius-md); }
  .rounded-lg { border-radius: var(--radius-lg); }
  .rounded-xl { border-radius: var(--radius-xl); }
  .rounded-2xl { border-radius: var(--radius-2xl); }

  /* Espacement unifié */
  .p-xs { padding: var(--spacing-xs); }
  .p-sm { padding: var(--spacing-sm); }
  .p-md { padding: var(--spacing-md); }
  .p-lg { padding: var(--spacing-lg); }
  .p-xl { padding: var(--spacing-xl); }
  .p-2xl { padding: var(--spacing-2xl); }
  .p-3xl { padding: var(--spacing-3xl); }
  .p-4xl { padding: var(--spacing-4xl); }

  .px-xs { padding-left: var(--spacing-xs); padding-right: var(--spacing-xs); }
  .px-sm { padding-left: var(--spacing-sm); padding-right: var(--spacing-sm); }
  .px-md { padding-left: var(--spacing-md); padding-right: var(--spacing-md); }
  .px-lg { padding-left: var(--spacing-lg); padding-right: var(--spacing-lg); }
  .px-xl { padding-left: var(--spacing-xl); padding-right: var(--spacing-xl); }
  .px-2xl { padding-left: var(--spacing-2xl); padding-right: var(--spacing-2xl); }

  .py-xs { padding-top: var(--spacing-xs); padding-bottom: var(--spacing-xs); }
  .py-sm { padding-top: var(--spacing-sm); padding-bottom: var(--spacing-sm); }
  .py-md { padding-top: var(--spacing-md); padding-bottom: var(--spacing-md); }
  .py-lg { padding-top: var(--spacing-lg); padding-bottom: var(--spacing-lg); }
  .py-xl { padding-top: var(--spacing-xl); padding-bottom: var(--spacing-xl); }
  .py-2xl { padding-top: var(--spacing-2xl); padding-bottom: var(--spacing-2xl); }

  .m-xs { margin: var(--spacing-xs); }
  .m-sm { margin: var(--spacing-sm); }
  .m-md { margin: var(--spacing-md); }
  .m-lg { margin: var(--spacing-lg); }
  .m-xl { margin: var(--spacing-xl); }

  .gap-xs { gap: var(--spacing-xs); }
  .gap-sm { gap: var(--spacing-sm); }
  .gap-md { gap: var(--spacing-md); }
  .gap-lg { gap: var(--spacing-lg); }
  .gap-xl { gap: var(--spacing-xl); }
  .gap-2xl { gap: var(--spacing-2xl); }
  .gap-3xl { gap: var(--spacing-3xl); }

  /* Transitions unifiées */
  .transition-fast { transition: all 150ms cubic-bezier(0.4, 0, 0.2, 1); }
  .transition-normal { transition: all 200ms cubic-bezier(0.4, 0, 0.2, 1); }
  .transition-smooth { transition: all 300ms cubic-bezier(0.4, 0, 0.2, 1); }

  /* États interactifs */
  .interactive {
    @apply transition-fast;
  }
  
  .interactive:hover {
    @apply scale-[1.02];
  }
  
  .interactive:active {
    @apply scale-[0.98];
  }

  /* Effets de focus standardisés */
  .focus-ring {
    @apply focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2;
  }

  /* Layout helpers */
  .container-padding {
    @apply px-lg sm:px-xl lg:px-2xl;
  }
  
  .section-spacing {
    @apply py-3xl sm:py-4xl lg:py-5xl;
  }

  /* Text truncation */
  .truncate-1 {
    display: -webkit-box;
    -webkit-line-clamp: 1;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
  
  .truncate-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
  
  .truncate-3 {
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
}

/* Composants de base - Design System */
@layer components {
  .btn-base {
    @apply inline-flex items-center justify-center gap-md text-label-md font-medium rounded-lg transition-fast focus-ring disabled:pointer-events-none disabled:opacity-50;
    min-height: 36px;
    padding: var(--spacing-md) var(--spacing-xl);
  }
  
  .btn-sm {
    @apply text-label-sm rounded-md;
    min-height: 32px;
    padding: var(--spacing-sm) var(--spacing-lg);
  }
  
  .btn-lg {
    @apply text-label-lg rounded-xl;
    min-height: 40px;
    padding: var(--spacing-lg) var(--spacing-2xl);
  }
  
  .input-base {
    @apply flex h-9 w-full rounded-lg border border-input bg-background px-lg py-md text-body-sm transition-fast file:border-0 file:bg-transparent file:text-body-sm file:font-medium placeholder:text-muted-foreground focus-ring disabled:cursor-not-allowed disabled:opacity-50;
  }
  
  .input-sm {
    @apply h-8 px-md py-sm text-label-sm rounded-md;
  }
  
  .input-lg {
    @apply h-10 px-xl py-lg text-body-md rounded-xl;
  }
  
  .card-base {
    @apply rounded-xl border bg-card text-card-foreground shadow-sm transition-fast;
  }
  
  .card-hover {
    @apply hover:shadow-md hover:border-muted-foreground/20;
  }
  
  .badge-base {
    @apply inline-flex items-center rounded-md px-md py-xs text-caption font-medium transition-fast;
  }
  
  .dialog-base {
    @apply fixed left-1/2 top-1/2 z-50 grid w-full max-w-lg -translate-x-1/2 -translate-y-1/2 gap-lg border bg-background p-2xl shadow-xl duration-200 rounded-xl;
  }
  
  .overlay-base {
    @apply fixed inset-0 z-50 bg-black/50 backdrop-blur-sm;
  }
}

/* Animations fluides */
@layer utilities {
  .animate-enter {
    animation: fadeIn 200ms ease-out, scaleIn 200ms ease-out;
  }
  
  .animate-exit {
    animation: fadeOut 150ms ease-in, scaleOut 150ms ease-in;
  }
  
  @keyframes fadeIn {
    from { opacity: 0; transform: translateY(4px); }
    to { opacity: 1; transform: translateY(0); }
  }
  
  @keyframes fadeOut {
    from { opacity: 1; transform: translateY(0); }
    to { opacity: 0; transform: translateY(4px); }
  }
  
  @keyframes scaleIn {
    from { transform: scale(0.96); }
    to { transform: scale(1); }
  }
  
  @keyframes scaleOut {
    from { transform: scale(1); }
    to { transform: scale(0.96); }
  }
}
